(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{3984:(e,t,a)=>{Promise.resolve().then(a.bind(a,5461))},5461:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>h});var r=a(5155),s=a(1213),l=a(7680);function n(){let e=(0,s.wA)(),t=(0,s.d4)(e=>e.news.query),a=(0,s.d4)(e=>e.news.category);return(0,r.jsx)("div",{className:"flex w-full justify-between gap-2 mt-2",children:["all categories","business","entertainment","general","health","science","sports","technology"].map(s=>(0,r.jsx)("button",{onClick:()=>{"all categories"===s?(e((0,l.Fb)("")),e((0,l.aE)({category:"",query:t}))):(e((0,l.Fb)(s)),e((0,l.aE)({category:s,query:t})))},className:"flex-1 border border-white px-2 py-2 rounded transition-all duration-200 ml-0\n            ".concat(a===s||"all categories"===s&&""===a?"bg-white text-black scale-105":"bg-transparent text-white","\n            hover:bg-white hover:text-black hover:scale-105 active:scale-95 active:bg-gray-200 active:text-black"),children:s},s))})}var i=a(2115);function o(){let[e,t]=(0,i.useState)(""),a=(0,s.wA)();return(0,r.jsxs)("div",{className:"flex items-center justify-start w-full gap-2",children:[(0,r.jsx)("h1",{className:"text-5xl font-bold mb-2",children:"World News"}),(0,r.jsx)("input",{value:e,onChange:e=>t(e.target.value),className:"border border-white bg-transparent text-white px-2 py-2 rounded w-full max-w-md",placeholder:"NASA"}),(0,r.jsx)("button",{onClick:()=>{a((0,l.NY)(e))},className:"border border-white bg-transparent text-white px-2 py-2 rounded transition-all duration-200 hover:bg-white hover:text-black hover:scale-105 active:scale-95 active:bg-gray-200 active:text-black",children:"Search"}),(0,r.jsx)("button",{onClick:()=>{t(""),a((0,l.NY)(""))},className:"border border-white bg-transparent text-white px-2 py-2 rounded transition-all duration-200 hover:bg-white hover:text-black hover:scale-105 active:scale-95 active:bg-gray-200 active:text-black",children:"Clear"})]})}function c(e){var t;let{article:a}=e;return(0,r.jsxs)("div",{style:{border:"1px solid gray",padding:"10px",marginBottom:"10px"},children:[(0,r.jsx)("h3",{children:a.title}),(0,r.jsx)("p",{children:a.description}),(0,r.jsxs)("div",{style:{fontSize:"0.95em",color:"#a5a1a1ff",marginBottom:"6px"},children:[a.author&&(0,r.jsxs)("span",{children:["Author: ",a.author," | "]}),(null==(t=a.source)?void 0:t.name)&&(0,r.jsxs)("span",{children:["Source: ",a.source.name," | "]}),a.publishedAt&&(0,r.jsxs)("span",{children:["Date: ",new Date(a.publishedAt).toLocaleDateString()]})]}),(0,r.jsx)("a",{href:a.url,target:"_blank",style:{color:"#284482ff"},children:"Read more"})]})}function d(e){let{page:t=1,pageSize:a=20,setTotalPages:n}=e,o=(0,s.wA)(),{articles:d,status:u,category:h,query:p}=(0,s.d4)(e=>e.news),[x,g]=i.useState(0);return((0,i.useEffect)(()=>{(async()=>{let e=await o((0,l.aE)({category:h,query:p,page:t,pageSize:a}));e.payload&&e.payload.totalResults?(g(e.payload.totalResults),n&&n(Math.ceil(e.payload.totalResults/a))):n&&n(1)})()},[o,h,p,t,a,n]),"loading"===u)?(0,r.jsx)("p",{children:"Loading..."}):"failed"===u?(0,r.jsx)("p",{children:"Error loading news"}):(0,r.jsx)("div",{style:{width:"100%",maxWidth:1500,margin:"0 auto"},children:Array.isArray(d)&&d.length>0?d.map((e,t)=>(0,r.jsx)(c,{article:e},t)):(0,r.jsx)("p",{style:{textAlign:"center",color:"#888",marginTop:"2em"},children:"No news found for this search."})})}let u=e=>{let{currentPage:t,totalPages:a,onPageChange:s,pageSize:l,onPageSizeChange:n}=e;return a<=1?null:(0,r.jsxs)("div",{className:"flex gap-4 items-center mt-4",children:[(0,r.jsx)("button",{className:"px-3 py-1 border rounded disabled:opacity-50",onClick:()=>{t>1&&s(t-1)},disabled:1===t,children:"Prev"}),(0,r.jsxs)("span",{className:"px-2",children:[t," / ",a]}),(0,r.jsx)("button",{className:"px-3 py-1 border rounded disabled:opacity-50",onClick:()=>{t<a&&s(t+1)},disabled:t===a,children:"Next"}),(0,r.jsx)("select",{className:"ml-4 px-2 py-1 border rounded",value:l,onChange:e=>n(Number(e.target.value)),children:[5,10,20,30,50].map(e=>(0,r.jsxs)("option",{value:e,children:[e," per page"]},e))})]})};function h(){let[e,t]=(0,i.useState)(1),[a,s]=(0,i.useState)(1),[l,c]=(0,i.useState)(5);return(0,r.jsxs)("div",{className:"font-sans flex flex-col items-center min-h-screen p-8 pb-20 gap-8 sm:p-20",children:[(0,r.jsx)(o,{}),(0,r.jsx)(n,{}),(0,r.jsx)(d,{page:e,pageSize:l,setTotalPages:e=>{s(e)}}),(0,r.jsx)(u,{currentPage:e,totalPages:a,onPageChange:t,pageSize:l,onPageSizeChange:e=>{c(e),t(1)}})]})}},7680:(e,t,a)=>{"use strict";a.d(t,{Ay:()=>d,aE:()=>n,Fb:()=>o,NY:()=>c});var r=a(9267),s=a(5125);let l=async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{endpoint:t="top-headlines",q:a,category:r,country:l,sources:n,domains:i,from:o,to:c,sortBy:d,pageSize:u=20}=e,h="".concat("https://newsapi.org/v2","/").concat(t),p={apiKey:"92d3552b35584951add4efc0e093a3e4",...e,country:"top-headlines"===t?e.country||"us":e.country};console.log(p),Object.keys(p).forEach(e=>void 0===p[e]&&delete p[e]);try{return(await s.A.get(h,{params:p})).data}catch(e){return console.error(e),[]}},n=(0,r.zD)("news/getNews",async e=>{let{category:t,query:a,page:r,pageSize:s}=e;return await l({category:t,q:a,page:r,pageSize:s})}),i=(0,r.Z0)({name:"news",initialState:{articles:[],status:"idle",error:null,category:"",query:""},reducers:{setCategory(e,t){e.category=t.payload},setQuery(e,t){e.query=t.payload}},extraReducers:e=>{e.addCase(n.pending,e=>{e.status="loading"}).addCase(n.fulfilled,(e,t)=>{e.status="succeeded",t.payload&&t.payload.articles?e.articles=t.payload.articles:e.articles=[]}).addCase(n.rejected,(e,t)=>{e.status="failed",e.error=t.error.message})}}),{setCategory:o,setQuery:c}=i.actions,d=i.reducer}},e=>{e.O(0,[39,441,255,358],()=>e(e.s=3984)),_N_E=e.O()}]);